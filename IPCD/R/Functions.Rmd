---
title: "Functions"
author: "Ignacio Vellido"
date: "10/28/2020"
output:
  html_document:
    theme: darkly
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, results="hold")
library(tidyverse)
```

---

Create a function "impares" that given an array returns the number of odd elements it contains / Crea una función "impares" que dado un vector devuelva la cantidad de elementos impares que contiene.

```{r}
impares <- function(x) {
  length(x[x %% 2 == 1])
}

x <- c(1,2,3,4,5)
impares(x)
```

---

Create a function "cambio" that, given a matrix of integer numbers, replaces all NA by 0 / Crea una función "cambio" que dada una matriz de numeros enteros reemplaze todos los NA por el valor 0.

```{r}
cambio <- function(m) {
  m[is.na(m)] <- 0
  m
}

m <- matrix(c(NA,NA,1,10,1,NA,NA,4,5,3,9,-1,NA,-3,NA,5,NA,2), nrow = 3)
m <- cambio(m)
m
```

---

Create a function "unir" that given two arrays returns a new array with the elements of both arrays without repetition / Crea una función "unir" que dados dos vectores devuelva un nuevo vector con los elementos de ambos vectores sin repetidos.

```{r}
unir <- function(x,y) {
  unique(c(x,y))
}

x <- c(1,3,5,1,2)
y <- c(3,10,2,5,8)
unir(x,y)
```

---

Create a function "vyc" that given a string returns a list of two components, one containing the vowels and the other the consonants / Crea una función "vyc" que dado un string devuelva una lista de dos componentes que contenga las vocales y las consonantes.

```{r}
vyc <- function(s) {
  s <- strsplit(s, "") %>% unlist() # Separar letras
  vowels <- grep("[aeiou]", s)  # Coger posiciones de vocales
  list(s[vowels], s[-vowels])
}

s <- "hola hola y adios"
vyc(s)
```

---

Create a function that given an array v and two values x and y (with y an optional parameter), returns a new array with the values included after the first x upto the first y. If y is not indicated, the function will return the values after the first x until the end of the array / Crea una función partir que dado un vector v y dos valores x e y (siendo y opcional), retorne un vector con los valores que aparecen luego del primer x y hasta el primer y. De no indicarse el valor de y se devolveran todos los valores que aparecen luego del primer x hasta el final del vector.

```{r}
# Para saber si se ha recibido parámetro -> missing()
f <- function(v, x, y) {
  ini <- match(x, v)
  fin <- ifelse(missing(y), length(v), match(y,v))
  
  v[ini:fin]
}

v <- c(1,2,3,4,5,6,6,1,13,1,5,1)
f(v,3)
f(v,5,6)
```